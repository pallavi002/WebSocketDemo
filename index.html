<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WS Demo 2</title>
</head>

<body>
  <input type="text" placeholder="Your message here" id="text"/>
  <button>Send </button>

  <div id="log"></div>
  <script>
    // establishig ws connection on url below
    let sock = new WebSocket('ws://localhost:5001');
    let log = document.querySelector('#log');
    
    // connection on

    // sock.onopen = (event) => {
    //   console.log(event);
    //   alert('Socket connected Successfully!');
    //   setTimeout(() => {
    //     // sending msg on the url above 
    //     sock.send('Hey there..')
    //   }, 1000)
    // }



    //message on client side from server
    sock.onmessage = (event) => {
      console.log(event.data);
      log.innerHTML += event.data+ "<br>";
    }
    //sending hello to the server on click of button
    document.querySelector('button').onclick = function() {
      let text = document.querySelector('#text').value;
      sock.send(text)
    }

  </script>
</body>

</html>